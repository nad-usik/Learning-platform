{% extends 'base.html' %} 
{% include messages %} 
{% block content %} 
{% if messages %} 
  {% for message in messages %}
    <div
      class="alert {% if message.tags == 'error' %} alert-warning {% else %} alert-success {% endif %} alert-dismissible fade show"
      role="alert"
    >
      <strong>{{ message }}</strong>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
  {% endfor %} 
{% endif %}

<div class="container" style="margin-top: 50px">
  <div
    class="container col-7 bg-white border border-0 border-secondary border-opacity-50 rounded"
    style="padding: 10px"
  >
    <div class="row">
      <h2
        class="text-center dysplay-4 fw-bold"
        style="margin-top: 35px; margin-bottom: 30px"
      >
        Заполните профиль
      </h2>
      <div class="col-10 mx-auto" style="text-align: left">
        <form
          method="POST"
          action="{% url 'profile' %}?action=create"
          enctype="multipart/form-data"
        >
          {% csrf_token %}
          <div class="row" style="margin-top: 20px">
            <div class="form-floating col-4 mb-3">
              {{profile_form.last_name}}
              <label for="floatingInput" style="margin-left: 10px"
                >Фамилия:</label
              >
            </div>
            <div class="form-floating col-4 mb-3">
              {{profile_form.first_name}}
              <label for="floatingInput" style="margin-left: 10px">Имя:</label>
            </div>
            <div class="form-floating col-4 mb-3">
              {{profile_form.second_name}}
              <label for="floatingInput" style="margin-left: 10px"
                >Отчество:</label
              >
            </div>
          </div>
          <div class="row" style="margin-top: 15px">
            <div class="form-floating col-6 mb-3">
              {{profile_form.date_of_birth}}
              <label for="floatingInput" style="margin-left: 10px"
                >Дата рождения:</label
              >
            </div>
            <div class="form-floating col-6 mb-3">
              {{profile_form.gender}}
              <label for="floatingInput" style="margin-left: 10px">Пол:</label>
            </div>
          </div>
          <div class="row" style="margin-top: 15px">
            <div class="form-floating col-6 mb-3">
              {{profile_form.town}}
              <label for="floatingInput" style="margin-left: 10px"
                >Город:</label
              >
            </div>
            <div class="form-floating col-6 mb-3">
              {{profile_form.phone_number}}
              <label for="floatingInput" style="margin-left: 10px"
                >Номер телефона:</label
              >
            </div>
          </div>
          <div class="mb-2" style="margin-top: 15px">
            <label>Фото профиля:</label>
            {{profile_form.profile_photo}}
          </div>
          {% if subject_form %}
            <p style="font-size: 20px; margin-bottom: 3px; margin-top: 15px">
              Выберите предметы:
            </p>
            {% for subject in subject_form.subjects %}
              <div class="form-check">
                <div class="d-flex align-items-start">{{subject}}</div>
              </div>
            {% endfor %} 
          {% endif %}
          <div
            class="d-flex justify-content-center align-items-center"
            style="margin-top: 35px; margin-bottom: 35px"
          >
            <button type="submit" class="btn btn-primary">Сохранить</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
